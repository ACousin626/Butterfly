# Butterfly
该框架是一个超高性能的发号器框架。通过引入多种新的方案，解决雪花算法存在的所有问题，并提供比雪花算法更高的性能。在理论值为51.2(w/s)这种单机版QPS情况下，新的方案可达 1000(w/s) 甚至更高，而且没有重复。

## 雪花算法问题
#### 1.时间回拨问题<br/>
雪花算法中的时间
#### 2.序列值浪费问题
#### 3.workerId分配问题

### 解决方案
1.bit重划分
2.时间预留方案
3.workerId分配方案

## 指标
全局唯一：最基本的要求，目前是对一个业务而言是唯一性<br/>
超高性能：纯内存化操作，性能特别高。采用时间预留，解决时钟回拨问题，同时可以使得qps达到更高，理论上最高可到 51.2w/s ~ more（不同的机器上限不同，自己的笔记本可达 1200(w/s)）<br/>
趋势递增：整体递增，对用Mysql这种用b+树作为索引的结构可以提高性能<br/>
信息安全：自增位放在高位，id不是完全连续的，防止外部恶意的数据爬取<br/>
易用性：开发接入非常简单<br/>

